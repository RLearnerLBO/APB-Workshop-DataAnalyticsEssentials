library(dplyr)
#install.packages("nycflights13")
library(nycflights13)
nycflights13
install.packages("nycflights13")
library(nycflights13)
knitr::opts_chunk$set(echo = TRUE)
iris <- iris
cars <- cars
airpas <- AirPassengers
data()
iris <- as.data.frame(iris)
cars <- as.data.frame(cars)
airpas <- as.data.frame(airpas)
flights <- as.data.frame(flights)
dim(flights)
str(flights)
View(flights)
flight_f <- filter(flights, month == 1)
flight_f <- filter(flights, month == 1)
flight_fm <-  flights %>% filter(month == 1)
library(dplyr)
flight_f <- filter(flights, month == 1)
dim(flight_f)
flight_f <- filter(flights, month == 3)
dim(flight_f)
flight_fc <-  flights %>% filter(carrier == UA)
UA <- "US"
UA <- "UA"
flight_fc <-  flights %>% filter(carrier == UA)
flight_fc <- filter(flights, carrier == "UA")
x == 1
x
rm(x)
x = 1
x
x == 2
x = 1+1
x
x ==2
flight_ft <-  flights %>% filter(air_time > 300)
flights_fmOR <- flights %>% filter(month == 11 | month == 12)
dim(flights_fmOR)
flights_fmOR <- flights %>% filter(month == 11 | month == 11)
dim(flights_fmOR)
flights_fmOR <- flights %>% filter(month == 12 | month == 12)
dim(flights_fmOR)
flights_fmOR <- flights %>% filter(month == 11 | month == 12)
dim(flights_fmOR)
flights_fmAND <- flights %>% filter(month <12 & month > 3)
dim(flights_fmAND)
flights_fmAND <- flights %>% filter(month >12 & month < 3)
dim(flights_fmAND)
flights_fmAND <- flights %>% filter(month >= 12 & month <= 3)
dim(flights_fmAND)
flights_fmAND <- flights %>% filter(month <= 12 & month >= 3)
dim(flights_fmAND)
flights_fmIN <- flights %>% filter(month %in% c(10, 11,1,2))
x
x==2
!x==2
View(flights)
flight_arrange <- flights %>% arrange(year, month, day)
View(flight_arrange)
View(flight_arrange_desc)
flights %>%
arrange(desc(is.na(dep_time)),
desc(is.na(dep_delay)),
desc(is.na(arr_time)),
desc(is.na(arr_delay)),
desc(is.na(tailnum)),
desc(is.na(air_time)))
flights %>%
arrange(dep_time)
x <- flights %>% select(year, month, day)
x
str(x)
starts_with("dep")
#two criteria with an OR clause
x<- flights %>% select(starts_with("dep") | starts_with("arr"))
str(x)
View(x)
vars <- c("year", "month", "day", "dep_delay", "arr_delay","nonsense")
x <- flights %>% select(one_of(vars))
str(x)
x <- flights %>% select(contains("DEP"))
str(x)
dim(flights)
str(flights)
x <- flights %>% mutate(new_col = hour*2)
dim(x)
str(x)
y <-  flights %>%
mutate(new_col = hour*2) %>%
select(hour,new_col)
str(y)
##################################################
flights_sml <- select(flights,
year:day,
ends_with("delay"),
distance,
air_time
)
x <- mutate(flights_sml,
gain = dep_delay - arr_delay,
speed = distance / air_time * 60
)
str(flights_sml)
x <-
x <- mutate(flights_sml,
gain = dep_delay - arr_delay,
speed = distance / air_time * 60
)
str(x)
x <- flights %>%
select(
year:day,
ends_with("delay"),
distance,
air_time
)%>%
mutate(flights_sml,
gain = dep_delay - arr_delay,
speed = distance / air_time * 60
)
str(x)
x <- flights %>% transmute(
new_hour = dep_time %/% 100,
new_minute = dep_time %% 100
)
str(x)
x <- flights %>% summarise(delay = mean(dep_delay, na.rm = TRUE))
x
x <- flights %>% summarise(delay = mean(dep_delay, na.rm = FALSE))
x <- flights %>% summarise(delay = mean(dep_delay, na.rm = FALSE))
x
x <- flights %>% summarise(delay = mean(dep_delay, na.rm = TRUE))
x
x <- flights %>%
group_by(year, month, day) %>%
summarise(delay = mean(dep_delay, na.rm = TRUE))
x
dim(x)
str(x)
View(x)
x <- c(1,2,3,4,5,6,7)
x
mean(x)
x <- c(1,2,3,4,5,6,7,"","")
x
x <- c(1,2,3,4,5,6,7,NULL,NULL)
x
mean(x)
x <- data.frame(c(1,2,3,4,5,6,7,NULL,NULL))
View(x)
x <- flights$dep_delay
x
x <- flights %>% select(dep_delay,dep_time)
View(x)
mean(x)
x <- flights %>% select(dep_delay,month)
mean9x
mean(x)
x <- c(1,2,3,4,"NA")
mean(x)
mean(x,na.rm=TRUE)
x <- flights %>% summarise(delay = mean(dep_delay)
x <- flights %>% summarise(delay = mean(dep_delay))
x
x <- flights %>% summarise(delay = mean(dep_delay))
x
flights %>%
arrange(desc(is.na(dep_time)),
desc(is.na(dep_delay)),
desc(is.na(arr_time)),
desc(is.na(arr_delay)),
desc(is.na(tailnum)),
desc(is.na(air_time)))
x <- flights %>% transmute(
new_hour = dep_time %/% 100,
new_minute = dep_time %% 100
)
5 %% 2
5 %/% 2
7 %/% 2
x <- data.frame(c(1,2,3,4,5),c(1,2,3))
x <- data.frame(c(1,2,3,4,5),c(1,2,3,NA,NA))
View(x)
mean9x
mean(x)
mean(x,na.rm=TRUE))
mean(x,na.rm=TRUE)
mean(x$c.1..2..3..NA..NA.,na.rm=TRUE)
colname(x) <- c("X1","X2")
x <- data.frame(c(1,2,3,4,5),c(1,2,3,NA,NA))
colname(x) <- c("X1","X2")
colnames(x) <- c("X1","X2")
mean(x,na.rm=TRUE)
mean(x$X2,na.rm=TRUE)
mean(x$X2,na.rm=FALSE)
View(flights)
flights %>% filter(dest %in% c("IAH","HOU"))
x <-  flights %>% filter(month %in% c(7,8,9))
View(x)
x <-  flights %>% filter(arr_delay > 120 & dep_delay <0)
View(x)
x <- flights %>% filter(hour >=0 &hour <=6)
colnames9(cm) <- paste(sample$patient,sample$treatment,sample$time,sep="_")
colnames(cm) <- paste(sample$patient,sample$treatment,sample$time,sep="_")
View(cm)
colnames(cm) <- paste("Pat",sample$patient,sample$treatment,sample$time,sep="_")
colnames(cm) <- paste(paste0("Pat",sample$patient),sample$treatment,sample$time,sep="_")
colnames(cm) <- paste(paste0("Patient",sample$patient),sample$treatment,sample$time,sep="_")
cm %>% select(contains("Patient1"))
cm %>% select(starts_with("Patient1"))
cm %>% select(starts_with("P"))
cm %>% select(starts_with("P"))
str(cm)
cm <- assay(parathyroidExonsSE)[1:5000,]
sample <- as.data.frame(colData(parathyroidExonsSE))
colnames(cm) <- paste(paste0("Patient",sample$patient),sample$treatment,sample$time,sep="_")
cm %>% select(starts_with("P"))
cm <- data.frame(assay(parathyroidExonsSE)[1:5000,])
sample <- as.data.frame(colData(parathyroidExonsSE))
cm <- as.data.frame(cm)
cm <- as.data.frame(cm)
colnames(cm) <- paste(paste0("Patient",sample$patient),sample$treatment,sample$time,sep="_")
cm %>% select(starts_with("P"))
cm %>% mutate(samplename=paste(paste0("Patient",sample$patient),sample$treatment,sample$time,sep="_"))
colnames(cm) <- paste(paste0("Patient",sample$patient),sample$treatment,sample$time,sep="_")
cm %>% select(starts_with("P"))
sample <- as.data.frame(colData(parathyroidExonsSE))
View(sample)
cm <- as.data.frame(cm)
colnames(cm) <- paste(paste0("Patient",sample$patient),sample$treatment,sample$time,sample$run,sep="_")
cm %>% select(starts_with("P"))
cm %>% select(starts_with("Patient1"))
dim(cm %>% select(starts_with("Patient1")))
gene_name <-
x <- cm %>% select(starts_with("Patient1"))
View(x)
x2 <- apply(x,1,mean)
gene_name <-
x <- cm %>% select(starts_with("Patient1"))
View(x)
x2
cm %>% mutate(samplename=paste(paste0("Patient",sample$patient),sample$treatment,sample$time,sample$run,sep="_"))
sample %>% mutate(fullinfo=patient&treatment&time)
x <- sample %>% mutate(fullinfo=patient&treatment&time)
x <- sample %>% mutate(fullinfo=paste(patient,treatment,time))
View(x)
x <- sample %>% transmute(fullinfo=paste(patient,treatment,time))
View(x)
colnames(cm) <- paste(paste0("Patient",sample$patient),sample$treatment,sample$time,sample$sample,sep="_")
cm <- as.data.frame(cm)
colnames(cm) <- paste(paste0("Patient",sample$patient),sample$treatment,sample$time,sample$sample,sep="_")
x <- cm %>% select(starts_with("Patient1"))
x2 <- apply(x,1,mean)
x <- cm %>% select(contains("SRS308865"))
x2 <- apply(x,1,mean)
x3 <- apply(x,2,mean)
x <- cm[,1]
x <- cm[,1]
x <- cm[[,1]]
x <- cm$Patient1_Control_24h_SRS308865
x <- cm %>% select(Patient1_Control_48h_SRS308866) %>% arrange(Patient1_Control_48h_SRS308866)
View(x)
x <- cm %>% select(Patient1_Control_48h_SRS308866) %>% arrange(desc(Patient1_Control_48h_SRS308866))
View(x)
A <- cm %>% filter(Patient1_Control_48h_SRS308866<101)
A <- x %>% filter(Patient1_Control_48h_SRS308866<101)
View(A)
A <- x %>% filter(Patient1_Control_48h_SRS308866<101)
B <- x %>% filter(Patient1_Control_48h_SRS308866>101 & Patient1_Control_48h_SRS308866<1001)
C <- x %>% filter(Patient1_Control_48h_SRS308866>1001 & Patient1_Control_48h_SRS308866<10001)
D <- x %>% filter(Patient1_Control_48h_SRS308866>10001 & Patient1_Control_48h_SRS308866<100001)
x$cat <- ""
for(i in 1:nrow(x)){
if(x[i] >1 & x[i] <101 ){x$cat[i] <- "A"}
if(x[i] >101 & x[i] <1001 ){x$cat[i] <- "B"}
if(x[i] >1001 & x[i] <10001 ){x$cat[i] <- "C"}
if(x[i] >10001 & x[i] <100001 ){x$cat[i] <- "D"}
}
for(i in 1:nrow(x)){
if(x[i,1] >1 & x[i,1] <101 ){x$cat[i] <- "A"}
if(x[i,1] >101 & x[i,1] <1001 ){x$cat[i] <- "B"}
if(x[i,1] >1001 & x[i,1] <10001 ){x$cat[i] <- "C"}
if(x[i,1] >10001 & x[i,1] <100001 ){x$cat[i] <- "D"}
}
View(y)
View(x)
x %>% group_by(cat) %>% summarise(count=count_n())
x %>% group_by(cat) %>% summarise(n = n())
for(i in 1:nrow(x)){
if(x[i,1] >1 & x[i,1] <101 ){x$cat[i] <- "A"}
if(x[i,1] >101 & x[i,1] <1001 ){x$cat[i] <- "B"}
if(x[i,1] >1001 & x[i,1] <10001 ){x$cat[i] <- "C"}
if(x[i,1] >10001 ){x$cat[i] <- "D"}
}
x %>% group_by(cat) %>% summarise(n = n())
for(i in 1:nrow(x)){
if(x[i,1] >=1 & x[i,1] <=100 ){x$cat[i] <- "A"}
if(x[i,1] >=100 & x[i,1] <=1000 ){x$cat[i] <- "B"}
if(x[i,1] >=1000 & x[i,1] <=10000 ){x$cat[i] <- "C"}
if(x[i,1] >=10000 ){x$cat[i] <- "D"}
}
.x %>% group_by(cat) %>% summarise(n = n())
x %>% group_by(cat) %>% summarise(n = n())
x$cat[i] <- "C"
i
1:nrow(x)
for(i in 1:nrow(x)){
if(x[i,1] >= 0 & x[i,1] <= 100 ){x$cat[i] <- "A"}
if(x[i,1] >= 100 & x[i,1] <= 1000 ){x$cat[i] <- "B"}
if(x[i,1] >= 1000 & x[i,1] <= 10000 ){x$cat[i] <- "C"}
if(x[i,1] >= 10000 ){x$cat[i] <- "D"}
}
x %>% group_by(cat) %>% summarise(n = n())
x <- cm %>% select(starts_with("Patient1"))
x2 <- apply(x,1,mean)
Summary <- c(P1s,P2s,P3s)
P1 <- cm %>% select(starts_with("Patient1"))
P1s <- apply(x,1,mean)
P2 <- cm %>% select(starts_with("Patient2"))
cm <- as.data.frame(cm)
colnames(cm) <- paste(paste0("Patient",
sample$patient),
sample$treatment,
sample$time,
sample$sample,
sep="_")
P1 <- cm %>% select(starts_with("Patient1"))
P1s <- apply(x,1,mean)
P2 <- cm %>% select(starts_with("Patient2"))
P2s <- apply(x,1,mean)
View(sample)
cm <- as.data.frame(cm)
colnames(cm) <- paste(paste0("Patient",
sample$patient),
sample$treatment,
sample$time,
sample$run,
sep="_")
P1 <- cm %>% select(starts_with("Patient1"))
P1s <- apply(x,1,mean)
P2 <- cm %>% select(starts_with("Patient2"))
P2s <- apply(x,1,mean)
P3 <- cm %>% select(starts_with("Patient3"))
P3s <- apply(x,1,mean)
Summary <- c(P1s,P2s,P3s)
cm <- as.data.frame(cm)
colnames(cm) <- paste(paste0("Patient",
sample$patient),
sample$treatment,
sample$time,
sample$run,
sep="_")
P1 <- cm %>% select(starts_with("Patient1"))
P1s <- apply(x,1,mean)
P2 <- cm %>% select(starts_with("Patient2"))
P2s <- apply(x,1,mean)
P3 <- cm %>% select(starts_with("Patient3"))
P3s <- apply(x,1,mean)
Summary <- c(P1s,P2s,P3s)
Summary <- cbind(P1s,P2s,P3s)
View(Summary)
View(cm)
P1 <- cm %>% select(starts_with("Patient1"))
P1s <- apply(x,1,mean)
P2 <- cm %>% select(starts_with("Patient2"))
P2s <- apply(x,1,mean)
P1 <- cm %>% select(starts_with("Patient1"))
View(P1)
View(P2)
View(P3)
P1 <- cm %>% select(starts_with("Patient1"))
P1s <- apply(P1,1,mean)
P2 <- cm %>% select(starts_with("Patient2"))
P2s <- apply(P2,1,mean)
P3 <- cm %>% select(starts_with("Patient3"))
P3s <- apply(P3,1,mean)
Summary <- cbind(P1s,P2s,P3s)
# for manually subsetting you can do this
newdf <- cm[,c(1,2,3,4)]
View(newdf)
View(Summary)
View(sample)
# for manually sub-setting you can do this
newdf <- cm[,c(1,2,7,8,15,16,21)]
summary <- apply(newdf,1,mean)
# for manually sub-setting you can do this
newdf <- cm[,c(1,2,7,8,15,16,21)]
summary_control <- apply(newdf,1,mean)
summary_control <- data.frame(summary_control)
View(summary_control)
knitr::opts_chunk$set(echo = TRUE)
nrow(A)
nrow(B)
nrow(C)
nrow(D)
x$cat <- ""
for(i in 1:nrow(x)){
if(x[i,1] >= 0 & x[i,1] <= 100 ){x$cat[i] <- "A"}
if(x[i,1] >= 100 & x[i,1] <= 1000 ){x$cat[i] <- "B"}
if(x[i,1] >= 1000 & x[i,1] <= 10000 ){x$cat[i] <- "C"}
if(x[i,1] >= 10000 ){x$cat[i] <- "D"}
}
for(i in 1:nrow(x)){
if(x[i,1] >= 0 & x[i,1] <= 100 ){x$cat[i] <- "A"}
if(x[i,1] >= 100 & x[i,1] <= 1000 ){x$cat[i] <- "B"}
if(x[i,1] >= 1000 & x[i,1] <= 10000 ){x$cat[i] <- "C"}
if(x[i,1] >= 10000 ){x$cat[i] <- "D"}
}
x %>% group_by(cat) %>% summarise(n = n())
library(dplyr)
A <- x %>% filter(Patient1_Control_48h_SRS308866<101)
B <- x %>% filter(Patient1_Control_48h_SRS308866>101 & Patient1_Control_48h_SRS308866<1001)
C <- x %>% filter(Patient1_Control_48h_SRS308866>1001 & Patient1_Control_48h_SRS308866<10001)
D <- x %>% filter(Patient1_Control_48h_SRS308866>10001 & Patient1_Control_48h_SRS308866<100001)
nrow(A)
nrow(B)
nrow(C)
nrow(D)
x$cat <- ""
for(i in 1:nrow(x)){
if(x[i,1] >= 0 & x[i,1] <= 100 ){x$cat[i] <- "A"}
if(x[i,1] >= 100 & x[i,1] <= 1000 ){x$cat[i] <- "B"}
if(x[i,1] >= 1000 & x[i,1] <= 10000 ){x$cat[i] <- "C"}
if(x[i,1] >= 10000 ){x$cat[i] <- "D"}
}
x %>% group_by(cat) %>% summarise(n = n())
A <- x %>% filter(Patient1_Control_48h_SRS308866<=100)
B <- x %>% filter(Patient1_Control_48h_SRS308866>=101 & Patient1_Control_48h_SRS308866<=1000)
C <- x %>% filter(Patient1_Control_48h_SRS308866>=1001 & Patient1_Control_48h_SRS308866<=10000)
D <- x %>% filter(Patient1_Control_48h_SRS308866>=10001 & Patient1_Control_48h_SRS308866<=100000)
nrow(A)
nrow(B)
nrow(C)
nrow(D)
x$cat <- ""
for(i in 1:nrow(x)){
if(x[i,1] >= 0 & x[i,1] <= 100 ){x$cat[i] <- "A"}
if(x[i,1] >= 101 & x[i,1] <= 1000 ){x$cat[i] <- "B"}
if(x[i,1] >= 1001 & x[i,1] <= 10000 ){x$cat[i] <- "C"}
if(x[i,1] >= 10001 ){x$cat[i] <- "D"}
}
x %>% group_by(cat) %>% summarise(n = n())
View(x)
x <- cm %>%
select(Patient1_Control_48h_SRS308866) %>%
arrange(desc(Patient1_Control_48h_SRS308866))
x <- flights %>% filter(dest %in% c("IAH","HOU"))
x <- flights %>% filter(carrier %in% c("UA","DL","AA"))
x <-  flights %>% filter(month %in% c(7,8,9))
x <-  flights %>% filter(arr_delay > 120 & dep_delay <0)
x <- flights %>% filter(hour >=0 &hour <=6)
library(parathyroidSE)
data(parathyroidExonsSE)
cm <- assay(parathyroidExonsSE)[1:5000,]
sample <- as.data.frame(colData(parathyroidExonsSE))
# for manually sub-setting you can do this
newdf <- cm[,c(1,2,7,8,15,16,21)]
summary_control <- apply(newdf,1,mean)
summary_control <- data.frame(summary_control)
x <- sample %>% mutate(fullinfo=paste(patient,treatment,time))
x <- sample %>% transmute(fullinfo=paste(patient,treatment,time))
##########################################################
cm <- as.data.frame(cm)
colnames(cm) <- paste(paste0("Patient",
sample$patient),
sample$treatment,
sample$time,
sample$run,
sep="_")
P1 <- cm %>% select(starts_with("Patient1"))
P1s <- apply(P1,1,mean)
P2 <- cm %>% select(starts_with("Patient2"))
P2s <- apply(P2,1,mean)
P3 <- cm %>% select(starts_with("Patient3"))
P3s <- apply(P3,1,mean)
Summary <- cbind(P1s,P2s,P3s)
##Similarly, for the rest
x <- cm %>% select(contains("Control"))
x2 <- apply(x,1,mean)
x <- cm %>% select(contains("24h"))
x2 <- apply(x,1,mean)
x <- cm %>% select(contains("SRS308865"))
x2 <- apply(x,1,mean)
x <- cm %>%
select(Patient1_Control_48h_SRS308866) %>%
arrange(desc(Patient1_Control_48h_SRS308866))
View(cm)
x <- cm %>%
select(Patient1_Control_24h_SRR479052) %>%
arrange(desc(Patient1_Control_24h_SRR479052))
A <- x %>% filter(Patient1_Control_48h_SRS308866<=100)
A <- x %>% filter(Patient1_Control_24h_SRR479052<=100)
B <- x %>% filter(Patient1_Control_24h_SRR479052>=101 & Patient1_Control_24h_SRR479052<=1000)
C <- x %>% filter(Patient1_Control_24h_SRR479052>=1001 & Patient1_Control_24h_SRR479052<=10000)
D <- x %>% filter(Patient1_Control_24h_SRR479052>=10001 & Patient1_Control_24h_SRR479052<=100000)
nrow(A)
nrow(B)
nrow(C)
nrow(D)
x$cat <- ""
for(i in 1:nrow(x)){
if(x[i,1] >= 0 & x[i,1] <= 100 ){x$cat[i] <- "A"}
if(x[i,1] >= 101 & x[i,1] <= 1000 ){x$cat[i] <- "B"}
if(x[i,1] >= 1001 & x[i,1] <= 10000 ){x$cat[i] <- "C"}
if(x[i,1] >= 10001 ){x$cat[i] <- "D"}
}
x %>% group_by(cat) %>% summarise(n = n())
